:root{
    --bg:#fff; --fg:#111; --muted:#e9e9e9; --muted-2:#f6f6f6;
    --pad:28px; --radius:16px; --trans:180ms ease;

    /* Header sizing */
    --navH: 88px;
    --navH-compact: 56px;

    /* Header fade (set by JS) */
    --fade: 0;

    /* Tiny alignment tweak for brand/X */
    --edge-nudge: 12px;

    /* Home hero offset (move headline upward a bit) */
    --hero-offset: clamp(8vh, 14vh, 20vh);
}

/* Base */
*{box-sizing:border-box}
html,body{margin:0;color:var(--fg);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
a{color:inherit;text-decoration:none}
img{max-width:100%;display:block}
:focus-visible{outline:2px solid #000;outline-offset:2px}
body.no-scroll{overflow:hidden}

/* ——— FULL-PAGE BACKGROUND ON HOME ——— */
body.home::before{
    content:"";
    position:fixed; inset:0; z-index:-1;
    background: #000 url("/assets/main.jpg") center center / cover no-repeat;
}
body.home::after{
    /* subtle dark overlay for legibility */
    content:""; position:fixed; inset:0; z-index:-1;
    background: linear-gradient(180deg, rgba(0,0,0,.30), rgba(0,0,0,.45));
}

/* Language visibility */
.lang{display:none}
body[data-lang="kr"] .lang-kr{display:block}
body[data-lang="en"] .lang-en{display:block}

/* Buttons */
.btn{
    border:1px solid var(--fg); background:transparent; color:var(--fg);
    padding:10px 16px; border-radius:999px; font-size:14px;
    transition:transform var(--trans), background var(--trans), color var(--trans)
}
.btn:hover{transform:translateY(-2px); background:var(--fg); color:#fff}
.btn-on-dark{ border-color:#fff; color:#fff }
.btn-on-dark:hover{ background:#fff; color:#000 }
.row{display:flex; gap:10px; flex-wrap:wrap}

/* Layout / type */
.container{max-width:1200px; margin:0 auto; padding:0 var(--pad)}
.section{margin:72px auto}

/* Responsive headline & body so it never breaks weirdly */
.hero-title{
    font-family:"Libre Bodoni",serif;
    font-size: clamp(28px, 5.2vw, 48px); /* was 30px, 6vw, 56px */
    line-height: 1.06;
    letter-spacing:.02em;
    margin:0 0 16px;
}

/* Smaller body copy on Home */
.home .hero-content p{
    font-size: clamp(13px, 1.9vw, 16px); /* was 14px, 2.2vw, 18px */
}

/* ===== Header (HAY-like) ===== */
.nav{
    position:sticky; top:0; z-index:60;
    background:rgba(255,255,255,.85); backdrop-filter:blur(8px);
    border-bottom:1px solid var(--muted);
    transition: background .25s ease, border-color .25s ease, transform .25s ease;
}
.nav-inner{
    max-width:1200px; margin:0 auto; padding:0 var(--pad);
    display:grid; grid-template-columns:1fr auto 1fr; align-items:center;
    column-gap:28px;
    min-height:var(--navH);
    block-size:var(--navH);
    transition:block-size .28s ease, min-height .28s ease;
}
.nav.is-compact{ background:#fff; }
.nav.is-compact .nav-inner{
    min-height:var(--navH-compact);
    block-size:var(--navH-compact);
    grid-template-columns:1fr;
}

/* Logo pinned to header height */
.logo{height:var(--navH); width:auto; max-width:none; transition:height .28s ease}
.nav.is-compact .logo{height:var(--navH-compact)}
.logo-white,.logo-black{display:none}
.nav .logo-black{display:block}

/* Keep clusters from squishing */
.brand,.nav-links,.nav-actions,.nav-social{flex:0 0 auto; min-width:max-content}
.nav-links{display:flex; gap:22px; justify-content:center; flex-wrap:nowrap}
.nav-links a{text-transform:uppercase; letter-spacing:.08em; font-size:14px; padding:6px 0; white-space:nowrap}
.nav-links a.active{border-bottom:1px solid var(--fg)}
.nav-actions{display:flex; align-items:center; justify-content:flex-end; gap:12px}
.nav-social{display:flex; align-items:center; gap:12px}
.nav .icon{width:20px; height:20px}
.nav .icon-btn{padding:6px}
.lang-toggle{min-width:auto}

/* Header fade (used on scrollable pages only; JS keeps 0 on Home) */
.nav .brand,.nav .nav-links,.nav .lang-toggle,.nav .nav-social{
    opacity: calc(1 - var(--fade, 0));
    transform: translateY(calc(-8px * (var(--fade, 0))));
    transition: opacity .18s linear, transform .24s ease, visibility .2s ease;
}

/* Compact defaults */
.nav.is-compact .nav-inner{ grid-template-columns:1fr }
.nav.is-compact .nav-actions{ justify-content:center }
.nav.is-compact .brand, .nav.is-compact .nav-links{ display:none }

/* Hide KR/EN + icons when compact or overflowing */
.nav.is-compact .lang-toggle, .nav.is-overflow .lang-toggle{ display:none !important; }
.nav.is-compact .nav-social, .nav.is-overflow .nav-social{ display:none !important; }

/* Hamburger (no circle) */
.menu-btn{
    display:none; padding:12px 6px; border:0; background:transparent; cursor:pointer;
    color:#111; -webkit-tap-highlight-color:transparent; -webkit-touch-callout:none;
}
.menu-icon, .menu-icon::before, .menu-icon::after{
    content:""; display:block; width:26px; height:2px; background:currentColor;
    border-radius:2px; position:relative;
    transition: transform .22s ease, opacity .22s ease, width .22s ease;
}
.menu-icon::before{ position:absolute; top:-7px; left:0; }
.menu-icon::after{  position:absolute; top: 7px; left:0; }
@media (hover:hover){
    .menu-btn:hover .menu-icon,
    .menu-btn:hover .menu-icon::before,
    .menu-btn:hover .menu-icon::after{ width:28px; }
}
.menu-btn.is-open .menu-icon{ background:transparent; }
.menu-btn.is-open .menu-icon::before{ transform: translateY(7px) rotate(45deg); }
.menu-btn.is-open .menu-icon::after{  transform: translateY(-7px) rotate(-45deg); }
.nav.is-overflow .menu-btn{ display:inline-flex; }
.nav.is-overflow .nav-links{ display:none; }
.nav.is-compact .menu-btn{ display:inline-flex; margin:0 auto; }

/* Overlay menu */
.menu-panel[hidden]{ display:none; }
.menu-panel{
    position:fixed; inset:0; z-index:70;
    opacity:0; visibility:hidden; transform:translateY(-8px);
    transition: opacity .25s ease, transform .25s ease, visibility .25s ease;
}
.menu-panel.is-open{ opacity:1; visibility:visible; transform:none; }
.menu-overlay{
    position:absolute; inset:0;
    background:rgba(255,255,255,.98);
    backdrop-filter: blur(10px);
    display:grid; grid-template-rows:auto auto 1fr;
}
.menu-bar{
    display:grid;
    grid-template-columns:1fr auto;
    align-items:center;
    min-height: var(--navH);
    border-bottom:1px solid var(--muted);
    padding:0 var(--pad);
}
.menu-close{
    border:0; background:transparent; cursor:pointer; padding:12px 6px;
    color:#111; -webkit-tap-highlight-color:transparent; -webkit-touch-callout:none;
}
.menu-close .menu-icon,
.menu-close .menu-icon::before,
.menu-close .menu-icon::after{
    content:""; display:block; width:26px; height:2px; background:currentColor; border-radius:2px; position:relative;
}
.menu-close .menu-icon{ transform:rotate(45deg); }
.menu-close .menu-icon::before{ position:absolute; top:0; transform:rotate(90deg); }
.menu-close .menu-icon::after{ display:none; }
.menu-links{
    display:flex; flex-wrap:wrap; gap:22px;
    align-content:start; align-items:center;
    padding:20px var(--pad) 12px;
    max-width:1200px;
}
.menu-links a{ text-transform:uppercase; letter-spacing:.08em; font-size:14px; padding:6px 0 }
.menu-links hr{ width:100%; border:0; border-top:1px solid var(--muted); margin:8px 0 4px; }
.menu-social{
    align-self:start; display:flex; gap:12px; align-items:center;
    padding: 0 var(--pad) 24px;
}
.menu-social .icon{ width:20px; height:20px; }
.menu-social .icon-btn{ padding:6px; }

/* ===== HERO BLANK (background is on <body>) ===== */
.hero-blank{
    position: relative;
    min-height: calc(100svh - var(--navH)); /* exactly under the sticky header */
    display: grid;
    align-items: start;
    padding-top: var(--hero-offset);        /* move text a bit up */
}
.home .section{ margin: 0; }              /* avoid overflow */

/* On Home, avoid a real border height that can add 1px scrollbars */
.home .nav{
    border-bottom: 0;
    box-shadow: inset 0 -1px 0 var(--muted);
}

/* Footer floats at bottom-left; smaller size; no layout height */
.home .site-foot{
    position: fixed;
    left: 0; right: 0; bottom: 0;
    background: transparent;
    padding: 10px var(--pad) calc(10px + env(safe-area-inset-bottom,0px));
    color: rgba(255,255,255,.85);
    font-size: 11px;          /* smaller per request */
    letter-spacing: .02em;
    pointer-events: none;     /* purely decorative here */
}
.site-foot .container{
    display:flex; justify-content:flex-start; align-items:center; text-align:left;
}

/* Text contrast on background */
.home .hero-title{ color:#fff }
.home .hero-content p{ color:rgba(255,255,255,.92); max-width:56ch }

/* ——— Mobile: hamburger on right; hide header extras; right-align overlay ——— */
@media (orientation:portrait), (max-width:820px){
    .nav .menu-btn{ display:inline-flex !important; margin:0 !important; color:#111 !important; -webkit-tap-highlight-color:transparent; -webkit-touch-callout:none; }
    .nav .nav-actions{ justify-content:flex-end !important; justify-self:end !important; }
    .nav .nav-links, .nav .lang-toggle, .nav .nav-social{ display:none !important; }

    .menu-bar{ grid-template-columns:1fr auto !important; padding-right: var(--pad) !important; }
    .menu-close{ justify-self:end !important; padding:12px 0 12px 6px !important; margin-right:0 !important; }

    .menu-links{
        width:100% !important; display:flex !important; flex-direction:column !important;
        align-items:flex-end !important; text-align:right !important; gap:12px !important; padding-right: var(--pad) !important;
    }
    .menu-links a{ text-align:right !important; }
    .menu-social{
        width:100% !important; justify-content:flex-end !important; align-self:start !important;
        padding-right: var(--pad) !important;
    }
}

/* Expanded header in true portrait: show hamburger on right; hide extras */
@media (max-aspect-ratio: 1/1){
    .nav:not(.is-compact) .menu-btn{ display:inline-flex !important; margin:0 !important; color:#111 !important; -webkit-tap-highlight-color:transparent; }
    .nav:not(.is-compact) .nav-actions{ grid-column: 3 / 4 !important; justify-self:end !important; justify-content:flex-end !important; }
    .nav:not(.is-compact) .nav-links, .nav:not(.is-compact) .lang-toggle, .nav:not(.is-compact) .nav-social{ display:none !important; }
}

/* Edge nudges: logo a bit left; overlay X flush right */
.nav:not(.is-compact) .brand{ margin-left: calc(-1 * var(--edge-nudge)) }
.menu-bar .brand{ margin-left: calc(-1 * var(--edge-nudge)) }
.menu-bar{ padding-right: var(--pad) }
.menu-close{
    justify-self:end !important; display:flex; align-items:center; justify-content:flex-end;
    padding:12px 0 12px 6px !important; margin-right: calc(-1 * var(--edge-nudge)) !important;
}
@media (orientation:portrait), (max-width:820px){
    .nav .nav-actions{ justify-content:flex-end !important; justify-self:end !important; margin-right: calc(-1 * var(--edge-nudge)) }
}

/* ========== Our Story layout ========== */
.story-hero .story-grid{
    display:grid;
    grid-template-columns: 1fr minmax(260px, 420px);
    gap: clamp(24px, 4vw, 56px);
    align-items:start;
}
@media (max-width: 900px){
    .story-hero .story-grid{ grid-template-columns: 1fr; }
    .story-book{ order: 2; margin-top: 20px; }
}

.story-copy .tagline{
    opacity:.75; text-transform:uppercase; letter-spacing:.08em; font-size:12px;
}
.story-copy .intro{ margin-top:16px; }
.story-copy .ctas{ margin-top:24px; }

/* ========== Fancy book card ========== */
.story-book .book-card{
    position: sticky;
    top: calc(var(--navH) + 24px);  /* stays nicely in view while scrolling */
    border-radius: 20px;
    background: #fff;
    border: 1px solid var(--muted);
    padding: 18px;
    box-shadow: 0 10px 30px rgba(0,0,0,.10);
    transform: rotate(-0.6deg);
    transition: transform .25s ease, box-shadow .25s ease, filter .25s ease;
    will-change: transform, box-shadow;
}
.story-book .book-card::before{
    content:"";
    position:absolute; inset:-6px -6px -10px -6px;
    border-radius: 24px;
    background: linear-gradient(180deg, rgba(255,255,255,.7), rgba(255,255,255,0));
    pointer-events:none;
}
.story-book .book-card:hover{
    transform: rotate(0deg) translateY(-2px);
    box-shadow: 0 20px 46px rgba(0,0,0,.12);
}
.story-book .book-card img{
    display:block;
    width:100%; height:auto;
    border-radius: 12px;
    box-shadow: inset 0 0 0 1px rgba(0,0,0,.04);
}