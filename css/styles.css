:root{
    --bg:#fff; --fg:#111; --muted:#e9e9e9; --muted-2:#f6f6f6;
    --pad:28px; --radius:16px; --trans:180ms ease;

    /* Header sizing */
    --navH: 88px;
    --navH-compact: 56px;

    /* Header fade (set by JS; default 0) */
    --fade: 0;

    /* Small alignment tweaks */
    --edge-nudge: 12px;

    /* Home hero offset (move headline up a bit) */
    --hero-offset: clamp(8vh, 14vh, 20vh);
}

/* ========== Base ========== */
*{box-sizing:border-box}
html,body{margin:0;color:var(--fg);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
a{color:inherit;text-decoration:none}
img{max-width:100%;display:block}
:focus-visible{outline:2px solid #000;outline-offset:2px}
body.no-scroll{overflow:hidden}
html,body{height:100%}
body{min-height:100svh; display:flex; flex-direction:column}
main{flex:1 0 auto}

/* ========== Language toggle visibility ========== */
.lang{display:none}
body[data-lang="kr"] .lang-kr{display:block}
body[data-lang="en"] .lang-en{display:block}

/* ========== Buttons ========== */
.btn{
    border:1px solid var(--fg); background:transparent; color:var(--fg);
    padding:10px 16px; border-radius:999px; font-size:14px;
    transition:transform var(--trans), background var(--trans), color var(--trans)
}
.btn:hover{transform:translateY(-2px); background:var(--fg); color:#fff}
.btn-on-dark{ border-color:#fff; color:#fff }
.btn-on-dark:hover{ background:#fff; color:#000 }
.row{display:flex; gap:10px; flex-wrap:wrap}

/* ========== Layout / type ========== */
.container{max-width:1200px; margin:0 auto; padding:0 var(--pad)}
.section{margin:72px auto}

/* Titles */
.hero-title{
    font-family:"Libre Bodoni",serif;
    font-size: clamp(28px, 5.2vw, 48px);
    line-height: 1.06;
    letter-spacing:.02em;
    margin:0 0 16px;
}

/* ========== Header (HAY-like) ========== */
.nav{
    position:sticky; top:0; z-index:60;
    background:rgba(255,255,255,.85); backdrop-filter:blur(8px);
    border-bottom:1px solid var(--muted);
    transition: background .25s ease, border-color .25s ease, transform .25s ease;
}
.nav-inner{
    max-width:1200px; margin:0 auto; padding:0 var(--pad);
    display:grid; grid-template-columns:1fr auto 1fr; align-items:center;
    column-gap:28px;
    min-height:var(--navH);
    block-size:var(--navH);
    transition:block-size .28s ease, min-height .28s ease;
}
.nav.is-compact{ background:#fff; }
.nav.is-compact .nav-inner{
    min-height:var(--navH-compact);
    block-size:var(--navH-compact);
    grid-template-columns:1fr;
}

/* Logo tracks header height */
.logo{height:var(--navH); width:auto; max-width:none; transition:height .28s ease}
.nav.is-compact .logo{height:var(--navH-compact)}
.logo-white,.logo-black{display:none}
.nav .logo-black{display:block}

/* Keep clusters from squishing */
.brand,.nav-links,.nav-actions,.nav-social{flex:0 0 auto; min-width:max-content}
.nav-links{display:flex; gap:22px; justify-content:center; flex-wrap:nowrap}
.nav-links a{text-transform:uppercase; letter-spacing:.08em; font-size:14px; padding:6px 0; white-space:nowrap}
.nav-links a.active{border-bottom:1px solid var(--fg)}
.nav-actions{display:flex; align-items:center; justify-content:flex-end; gap:12px}
.nav-social{display:flex; align-items:center; gap:12px}
.nav .icon{width:20px; height:20px}
.nav .icon-btn{padding:6px}
.lang-toggle{min-width:auto}

/* Header fade (JS updates --fade; Home keeps it 0) */
.nav .brand,.nav .nav-links,.nav .lang-toggle,.nav .nav-social{
    opacity: calc(1 - var(--fade, 0));
    transform: translateY(calc(-8px * (var(--fade, 0))));
    transition: opacity .18s linear, transform .24s ease, visibility .2s ease;
}

/* Compact defaults */
.nav.is-compact .nav-inner{ grid-template-columns:1fr }
.nav.is-compact .nav-actions{ justify-content:center }
.nav.is-compact .brand, .nav.is-compact .nav-links{ display:none }

/* Hide KR/EN + icons when compact or overflowing */
.nav.is-compact .lang-toggle, .nav.is-overflow .lang-toggle{ display:none !important; }
.nav.is-compact .nav-social, .nav.is-overflow .nav-social{ display:none !important; }

/* Hamburger (no circle) */
.menu-btn{
    display:none; padding:12px 6px; border:0; background:transparent; cursor:pointer;
    color:#111; -webkit-tap-highlight-color:transparent; -webkit-touch-callout:none;
}
.menu-icon, .menu-icon::before, .menu-icon::after{
    content:""; display:block; width:26px; height:2px; background:currentColor;
    border-radius:2px; position:relative;
    transition: transform .22s ease, opacity .22s ease, width .22s ease;
}
.menu-icon::before{ position:absolute; top:-7px; left:0; }
.menu-icon::after{  position:absolute; top: 7px; left:0; }
@media (hover:hover){
    .menu-btn:hover .menu-icon,
    .menu-btn:hover .menu-icon::before,
    .menu-btn:hover .menu-icon::after{ width:28px; }
}
.menu-btn.is-open .menu-icon{ background:transparent; }
.menu-btn.is-open .menu-icon::before{ transform: translateY(7px) rotate(45deg); }
.menu-btn.is-open .menu-icon::after{  transform: translateY(-7px) rotate(-45deg); }
.nav.is-overflow .menu-btn{ display:inline-flex; }
.nav.is-overflow .nav-links{ display:none; }
.nav.is-compact .menu-btn{ display:inline-flex; margin:0 auto; }

/* ========== Overlay menu ========== */
.menu-panel[hidden]{ display:none; }
.menu-panel{
    position:fixed; inset:0; z-index:70;
    opacity:0; visibility:hidden; transform:translateY(-8px);
    transition: opacity .25s ease, transform .25s ease, visibility .25s ease;
}
.menu-panel.is-open{ opacity:1; visibility:visible; transform:none; }
.menu-overlay{
    position:absolute; inset:0;
    background:rgba(255,255,255,.98);
    backdrop-filter: blur(10px);
    display:grid; grid-template-rows:auto auto 1fr;
}
.menu-bar{
    display:grid;
    grid-template-columns:1fr auto;
    align-items:center;
    min-height: var(--navH);
    border-bottom:1px solid var(--muted);
    padding:0 var(--pad);
}
.menu-close{
    border:0; background:transparent; cursor:pointer; padding:12px 6px;
    color:#111; -webkit-tap-highlight-color:transparent; -webkit-touch-callout:none;
}
.menu-close .menu-icon,
.menu-close .menu-icon::before,
.menu-close .menu-icon::after{
    content:""; display:block; width:26px; height:2px; background:currentColor; border-radius:2px; position:relative;
}
.menu-close .menu-icon{ transform:rotate(45deg); }
.menu-close .menu-icon::before{ position:absolute; top:0; transform:rotate(90deg); }
.menu-close .menu-icon::after{ display:none; }

.menu-links{
    display:flex; flex-wrap:wrap; gap:22px;
    align-content:start; align-items:center;
    padding:20px var(--pad) 12px;
    max-width:1200px;
}
.menu-links a{ text-transform:uppercase; letter-spacing:.08em; font-size:14px; padding:6px 0 }
.menu-links hr{ width:100%; border:0; border-top:1px solid var(--muted); margin:8px 0 4px; }

.menu-social{
    align-self:start; display:flex; gap:12px; align-items:center;
    padding: 0 var(--pad) 24px;
}
.menu-social .icon{ width:20px; height:20px; }
.menu-social .icon-btn{ padding:6px; }

/* ========== Home (full-bleed background; no scroll) ========== */
body.home::before{
    content:"";
    position:fixed; inset:0; z-index:-1;
    background: url("/assets/main.jpg") center center / cover no-repeat; /* original image, no dark overlay */
}
/* removed body.home::after overlay */

.hero-blank{
    position: relative;
    min-height: calc(100svh - var(--navH));
    display: grid; align-items: start;
    padding-top: var(--hero-offset);
}
.home .section{ margin: 0; }
.home .nav{
    border-bottom: 0;
    box-shadow: inset 0 -1px 0 var(--muted);
}
.home .hero-title{ color:#fff }
.home .hero-content p{
    color:rgba(255,255,255,.92);
    max-width:56ch;
    font-size: clamp(13px, 1.9vw, 16px);
}
/* Home footer: white, bottom-left, small */
.home .site-foot{
    position: fixed;
    left: 0; right: 0; bottom: 0;
    background: transparent;
    padding: 10px var(--pad) calc(10px + env(safe-area-inset-bottom,0px));
    color: rgba(255,255,255,.85);
    font-size: 11px;
    letter-spacing: .02em;
    pointer-events: none;
}
.site-foot .container{
    display:flex; justify-content:flex-start; align-items:center; text-align:left;
}

/* ========== Our Story page (no scroll) ========== */
body.story{ overflow: hidden; }
.story .section{ margin: 0; }

.story-hero{
    min-height: calc(100svh - var(--navH));
    display: grid;
    align-items: center;
    overflow: hidden;
}
.story-hero .story-grid{
    display:grid;
    grid-template-columns: 1fr minmax(260px, 420px);
    gap: clamp(24px, 4vw, 56px);
    align-items:center;
}
@media (max-width: 900px){
    .story-hero .story-grid{ grid-template-columns: 1fr; }
    .story-book{ order: 2; }
}
.story-copy .tagline{
    opacity:.75; text-transform:uppercase; letter-spacing:.08em; font-size:12px;
}
.story-copy .intro{ margin-top:16px; }
.story-copy .ctas{ margin-top:24px; }

/* Fancy book card */
.story-book .book-card{
    position: relative;
    border-radius: 20px;
    background: #fff;
    border: 1px solid var(--muted);
    padding: 18px;
    box-shadow: 0 10px 30px rgba(0,0,0,.10);
    transform: rotate(-0.6deg);
    transition: transform .25s ease, box-shadow .25s ease, filter .25s ease;
    will-change: transform, box-shadow;
}
.story-book .book-card::before{
    content:"";
    position:absolute; inset:-6px -6px -10px -6px;
    border-radius: 24px;
    background: linear-gradient(180deg, rgba(255,255,255,.7), rgba(255,255,255,0));
    pointer-events:none;
}
.story-book .book-card:hover{
    transform: rotate(0deg) translateY(-2px);
    box-shadow: 0 20px 46px rgba(0,0,0,.12);
}
.story-book .book-card img{
    display:block;
    width:100%; height:auto;
    border-radius: 12px;
    box-shadow: inset 0 0 0 1px rgba(0,0,0,.04);
}
/* Story footer: small, darker text */
.story .site-foot{
    position: fixed;
    left: 0; right: 0; bottom: 0;
    background: transparent;
    padding: 10px var(--pad) calc(10px + env(safe-area-inset-bottom,0px));
    font-size: 11px;
    letter-spacing: .02em;
    color: #555;
    pointer-events: none;
}

/* ========== Collection page (no scroll, original bg) ========== */
body.collection::before{
    content:"";
    position:fixed; inset:0; z-index:-1;
    background: url("/assets/collection.png") center center / cover no-repeat; /* original, no overlay */
}
/* removed collection ::after overlay */

body.collection{ overflow: hidden; }
.collection .section{ margin: 0; }

.collection-hero{
    min-height: calc(100svh - var(--navH));
    display: block;
    padding: 0;
}
.collection-hero .container{
    display: flex;
    justify-content: flex-end;  /* top-right */
    align-items: flex-start;
    padding-top: clamp(24px, 10vh, 120px);
}

/* Translucent panel (tighter radius) */
.collection-panel{
    max-width: 760px;
    background: rgba(255,255,255,.76);
    border: 1px solid rgba(255,255,255,.95);
    box-shadow: 0 20px 60px rgba(0,0,0,.18);
    border-radius: 10px;
    padding: clamp(16px, 2.6vw, 24px);
    backdrop-filter: blur(4px);
}

/* Title fonts per language */
.collection-title{
    display:flex; gap:12px; align-items:baseline; margin:0 0 10px;
    line-height:1;
}
.collection-title .title-en{
    font-family: "Fira Sans Condensed", Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    font-weight:600;
    font-size: clamp(20px, 4.4vw, 28px);
    letter-spacing:.04em;
}
.collection-title .title-kr{
    font-family: "Sandoll OnGothic", "SD OnGothic", "Noto Sans KR", "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
    font-weight:600;
    font-size: clamp(18px, 3.8vw, 24px);
    letter-spacing:.02em;
}

/* Descriptions */
.collection-desc{ margin-top:6px }
.collection-desc p{ margin: 0 0 10px; line-height:1.5 }
.collection-desc p.kr{
    font-family: "Noto Sans KR", "Apple SD Gothic Neo", "Malgun Gothic", Inter, system-ui, sans-serif;
    font-size: clamp(14px, 2.2vw, 17px);
    color:#1a1a1a;
}
.collection-desc p.en{
    font-family: "Galvji", ui-rounded, "SF Pro Rounded", Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    font-size: clamp(13.5px, 2.0vw, 16px);
    color:#252525;
}

/* Naver store button */
.btn-store{
    font-family: "Sandoll OnGothic", "SD OnGothic", "Noto Sans KR", "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
    border-color:#111; color:#111; background:transparent;
}
.btn-store:hover{ background:#111; color:#fff }

/* Keep nav labels one-line */
.collection .nav-links a{ white-space:nowrap }

/* Collection footer: white like Home */
.collection .site-foot{
    position: fixed;
    left: 0; right: 0; bottom: 0;
    background: transparent;
    padding: 10px var(--pad) calc(10px + env(safe-area-inset-bottom,0px));
    color: rgba(255,255,255,.90);
    font-size: 11px;
    letter-spacing: .02em;
    pointer-events: none;
}

/* ========== Mobile & portrait tweaks (header/menu) ========== */
@media (orientation:portrait), (max-width:820px){
    .nav .menu-btn{ display:inline-flex !important; margin:0 !important; color:#111 !important; -webkit-tap-highlight-color:transparent; -webkit-touch-callout:none; }
    .nav .nav-actions{ justify-content:flex-end !important; justify-self:end !important; }
    .nav .nav-links, .nav .lang-toggle, .nav .nav-social{ display:none !important; }

    .menu-bar{ grid-template-columns:1fr auto !important; padding-right: var(--pad) !important; }
    .menu-close{ justify-self:end !important; padding:12px 0 12px 6px !important; margin-right:0 !important; }

    .menu-links{
        width:100% !important; display:flex !important; flex-direction:column !important;
        align-items:flex-end !important; text-align:right !important; gap:12px !important; padding-right: var(--pad) !important;
    }
    .menu-links a{ text-align:right !important; }
    .menu-social{
        width:100% !important; justify-content:flex-end !important; align-self:start !important;
        padding-right: var(--pad) !important;
    }
}

/* Expanded header in true portrait: show hamburger on right; hide extras */
@media (max-aspect-ratio: 1/1){
    .nav:not(.is-compact) .menu-btn{ display:inline-flex !important; margin:0 !important; color:#111 !important; -webkit-tap-highlight-color:transparent; }
    .nav:not(.is-compact) .nav-actions{ grid-column: 3 / 4 !important; justify-self:end !important; justify-content:flex-end !important; }
    .nav:not(.is-compact) .nav-links, .nav:not(.is-compact) .lang-toggle, .nav:not(.is-compact) .nav-social{ display:none !important; }
}

/* Edge nudges: logo a bit left; overlay X flush right */
.nav:not(.is-compact) .brand{ margin-left: calc(-1 * var(--edge-nudge)) }
.menu-bar .brand{ margin-left: calc(-1 * var(--edge-nudge)) }
.menu-bar{ padding-right: var(--pad) }
.menu-close{
    justify-self:end !important; display:flex; align-items:center; justify-content:flex-end;
    padding:12px 0 12px 6px !important; margin-right: calc(-1 * var(--edge-nudge)) !important;
}
@media (orientation:portrait), (max-width:820px){
    .nav .nav-actions{ justify-content:flex-end !important; justify-self:end !important; margin-right: calc(-1 * var(--edge-nudge)) }
}

/* ========== Scene page ========== */
.scene-intro .hero-title{ margin-bottom: 8px; }
.scene-intro p{ margin: 0 0 4px; color:#333; }

.scene-grid{
    display:grid;
    grid-template-columns: repeat(3, 1fr);
    gap: clamp(12px, 2vw, 20px);
}

/* Keep a consistent tile shape and nice crop */
.scene-figure{
    position: relative;
    aspect-ratio: 16 / 9;
    overflow: hidden;
    border-radius: 12px;
    background: #f3f3f3;
    box-shadow: 0 8px 18px rgba(0,0,0,.06);
}
.scene-figure img,
.scene-figure video{
    position:absolute; inset:0;
    width:100%; height:100%;
    object-fit: cover;
    display:block;
}
.scene-figure video{
    opacity:0; transition: opacity .22s ease;
    /* Prevent accidental click stealing while hidden */
    pointer-events:none;
}
.scene-item:hover .scene-figure video{ opacity:1; }

/* Mobile / narrow: 2-up then 1-up */
@media (max-width: 960px){
    .scene-grid{ grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 560px){
    .scene-grid{ grid-template-columns: 1fr; }
}

/* Touch devices: keep hover fade off; video shows only when tapping (JS toggles .is-playing) */
@media (hover:none){
    .scene-item:hover .scene-figure video{ opacity:0; }
    .scene-item.is-playing .scene-figure video{ opacity:1; }
}

/* Optional: subtle focus style for keyboard users */
.scene-item{ display:block; border-radius:12px; outline:none; }
.scene-item:focus-visible .scene-figure{ box-shadow: 0 0 0 2px #000 inset, 0 8px 18px rgba(0,0,0,.08); }

/* Consistent spacing between header links and right-side controls */
:root{
    --nav-gap: 14px;           /* gap between icons / KR and hamburger */
    --links-gap: 28px;         /* gap between the text links */
    --links-right-indent: 18px;/* small, fixed space before the icons/KR */
}

/* Make sure header uses flex and aligns consistently */
.nav .nav-inner{
    display: flex;
    align-items: center;
}

.nav .brand{
    margin-right: auto;                /* brand stays on the far left */
    display: inline-flex;
    align-items: center;
}

/* Text links sit just before the right controls with fixed spacing */
.nav .nav-links{
    display: flex;
    gap: var(--links-gap);
    margin-right: var(--links-right-indent);
    white-space: nowrap;               /* no wrapping into two lines */
}

/* Icons + KR/EN + hamburger keep a fixed internal gap */
.nav .nav-actions{
    display: flex;
    align-items: center;
    gap: var(--nav-gap);
}

/* When your compact/mobile rules hide links, spacing of actions remains unchanged */
@media (max-width: 980px){
    .nav .nav-links{ display: none; }
}

/* Force the right-side cluster to the far right */
.nav .nav-actions {
    margin-left: auto !important;
    display: flex;
    align-items: center;
    gap: var(--nav-gap, 14px);
}

/* Keep brand from pushing everything weirdly */
.nav .brand { margin-right: 24px !important; }

/* Keep a small fixed gap before icons; prevent wrapping */
.nav .nav-links {
    margin-right: 16px !important;
    gap: var(--links-gap, 28px);
    white-space: nowrap;
}

/* Ensure the hamburger is last in the right cluster */
.nav .nav-actions .menu-btn { order: 99; }

/* On mobile/portrait, keep hamburger at the right even when links are hidden */
@media (max-width: 980px), (max-aspect-ratio: 1/1) {
    .nav .nav-links { display: none; }           /* your existing rule */
    .nav .nav-actions { margin-left: auto !important; }
}

/* In the slide-out header, put the X button on the right */
.menu-bar { display: flex; align-items: center; }
.menu-close { margin-left: auto; }