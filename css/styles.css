:root{
    --bg:#fff; --fg:#111; --muted:#e9e9e9; --muted-2:#f6f6f6;
    --pad:28px; --radius:16px; --trans:180ms ease;

    --navH: 88px;          /* header height (expanded) */
    --navH-compact: 56px;  /* header height (compact) */

    /* header fade (set by JS) */
    --fade: 0;
}

/* Base */
*{box-sizing:border-box}
html,body{margin:0;background:var(--bg);color:var(--fg);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
a{color:inherit;text-decoration:none}
img{max-width:100%;display:block}
:focus-visible{outline:2px solid #000;outline-offset:2px}
body.no-scroll{overflow:hidden}

/* Language visibility */
.lang{display:none}
body[data-lang="kr"] .lang-kr{display:block}
body[data-lang="en"] .lang-en{display:block}

/* Buttons */
.btn{
    border:1px solid var(--fg); background:transparent; color:var(--fg);
    padding:10px 16px; border-radius:999px; font-size:14px;
    transition:transform var(--trans), background var(--trans), color var(--trans)
}
.btn:hover{transform:translateY(-2px); background:var(--fg); color:#fff}
.row{display:flex; gap:10px; flex-wrap:wrap}

/* Layout */
.container{max-width:1200px; margin:0 auto; padding:0 var(--pad)}
.section{margin:72px auto}

/* Typography */
.hero-title{
    font-family:"Libre Bodoni",serif;
    font-size:56px; line-height:1.05; letter-spacing:.02em; margin:0 0 16px;
}

/* ===== Header ===== */
.nav{
    position:sticky; top:0; z-index:60;
    background:rgba(255,255,255,.85); backdrop-filter:blur(8px);
    border-bottom:1px solid var(--muted);
    transition: background .25s ease, border-color .25s ease, transform .25s ease;
}
.nav-inner{
    max-width:1200px; margin:0 auto; padding:0 var(--pad);
    display:grid; grid-template-columns:1fr auto 1fr; align-items:center;
    column-gap:28px;
    min-height:var(--navH);
    block-size:var(--navH);
    transition:block-size .28s ease, min-height .28s ease;
}
.nav.is-compact{ background:#fff; }
.nav.is-compact .nav-inner{
    min-height:var(--navH-compact);
    block-size:var(--navH-compact);
    grid-template-columns:1fr;
}

/* Logo pinned to header height */
.logo{height:var(--navH); width:auto; max-width:none; transition:height .28s ease;}
.nav.is-compact .logo{height:var(--navH-compact);}
.logo-white,.logo-black{display:none}
.nav .logo-black{display:block}

/* Keep clusters from squishing */
.brand,.nav-links,.nav-actions,.nav-social{flex:0 0 auto; min-width:max-content}

/* Links */
.nav-links{display:flex; gap:22px; justify-content:center; flex-wrap:nowrap}
.nav-links a{white-space:nowrap; text-transform:uppercase; letter-spacing:.08em; font-size:14px; padding:6px 0}
.nav-links a.active{border-bottom:1px solid var(--fg)}

/* Actions */
.nav-actions{display:flex; align-items:center; justify-content:flex-end; gap:12px}
.nav-social{display:flex; align-items:center; gap:12px}
.nav .icon{width:20px; height:20px}
.nav .icon-btn{padding:6px}
.lang-toggle{min-width:auto}

/* Fade the contents on scroll */
.nav .brand,.nav .nav-links,.nav .lang-toggle,.nav .nav-social{
    opacity:calc(1 - var(--fade));
    transform:translateY(calc(-8px * var(--fade)));
    transition:opacity .18s linear, transform .24s ease, visibility .2s ease;
}

/* Compact layout hides brand+links; centers hamburger (mobile overrides later) */
.nav.is-compact .nav-inner{grid-template-columns:1fr}
.nav.is-compact .nav-actions{justify-content:center}
.nav.is-compact .brand,.nav.is-compact .nav-links{display:none}

/* Hide KR/EN + header icons when compact or overflowing */
.nav.is-compact .lang-toggle,.nav.is-overflow .lang-toggle{display:none !important}
.nav.is-compact .nav-social,.nav.is-overflow .nav-social{display:none !important}

/* Hamburger (no circle), morph to X */
.menu-btn{display:none; padding:12px 6px; border:0; background:transparent; cursor:pointer; color:#111; -webkit-tap-highlight-color:transparent; -webkit-touch-callout:none}
.menu-icon,.menu-icon::before,.menu-icon::after{
    content:""; display:block; width:26px; height:2px; background:currentColor; border-radius:2px; position:relative; transition:transform .22s ease, opacity .22s ease, width .22s ease;
}
.menu-icon::before{position:absolute; top:-7px; left:0}
.menu-icon::after{ position:absolute; top: 7px; left:0}
@media (hover:hover){
    .menu-btn:hover .menu-icon,.menu-btn:hover .menu-icon::before,.menu-btn:hover .menu-icon::after{width:28px}
}
.menu-btn.is-open .menu-icon{background:transparent}
.menu-btn.is-open .menu-icon::before{transform:translateY(7px) rotate(45deg)}
.menu-btn.is-open .menu-icon::after{ transform:translateY(-7px) rotate(-45deg)}
.nav.is-overflow .menu-btn{display:inline-flex}
.nav.is-overflow .nav-links{display:none}
.nav.is-compact .menu-btn{display:inline-flex; margin:0 auto}

/* Overlay menu */
.menu-panel[hidden]{display:none}
.menu-panel{position:fixed; inset:0; z-index:70; opacity:0; visibility:hidden; transform:translateY(-8px); transition:opacity .25s ease, transform .25s ease, visibility .25s ease}
.menu-panel.is-open{opacity:1; visibility:visible; transform:none}
.menu-overlay{position:absolute; inset:0; background:rgba(255,255,255,.98); backdrop-filter:blur(10px); display:grid; grid-template-rows:auto auto 1fr}
.menu-bar{display:grid; grid-template-columns:1fr auto; align-items:center; min-height:var(--navH); border-bottom:1px solid var(--muted); padding:0 var(--pad)}
.menu-close{border:0; background:transparent; cursor:pointer; padding:12px 6px; color:#111; -webkit-tap-highlight-color:transparent; -webkit-touch-callout:none}
.menu-close .menu-icon,.menu-close .menu-icon::before,.menu-close .menu-icon::after{content:""; display:block; width:26px; height:2px; background:currentColor; border-radius:2px; position:relative}
.menu-close .menu-icon{transform:rotate(45deg)}
.menu-close .menu-icon::before{position:absolute; top:0; transform:rotate(90deg)}
.menu-close .menu-icon::after{display:none}
.menu-links{display:flex; flex-wrap:wrap; gap:22px; align-content:start; align-items:center; padding:20px var(--pad) 12px; max-width:1200px}
.menu-links a{text-transform:uppercase; letter-spacing:.08em; font-size:14px; padding:6px 0}
.menu-links hr{width:100%; border:0; border-top:1px solid var(--muted); margin:8px 0 4px}
.menu-social{align-self:start; display:flex; gap:12px; align-items:center; padding:0 var(--pad) 24px}
.menu-social .icon{width:20px; height:20px}
.menu-social .icon-btn{padding:6px}

/* ===== HERO: fills viewport; smart crops ===== */
.hero{
    position:relative;
    height:100svh;                 /* fill the whole screen */
    background:#000;               /* letterbox color */
    display:grid; align-items:center; isolation:isolate;
}
.hero::before{
    content:""; position:absolute; inset:0; z-index:-1;
    background-image: var(--hero-src);
    background-repeat:no-repeat;
    background-position: center var(--focal-y, 50%);
    background-size: cover;        /* default: fill vertically, crop sides */
}
/* When ultra-wide vs image ratio â†’ fit width, no side crop (may letterbox) */
.hero.fit-width::before{ background-size: contain; background-position:center }

/* Text on hero */
.hero .hero-title{ color:#fff }
.hero .hero-content p{ color:rgba(255,255,255,.92); max-width:56ch }
.hero .row .btn{ border-color:#fff; color:#fff }
.hero .row .btn:hover{ background:#fff; color:#000 }

/* Footer sticks to bottom */
html,body{height:100%}
body{min-height:100svh; display:flex; flex-direction:column}
main{flex:1 0 auto}
.site-foot{flex-shrink:0; padding:16px 0 calc(16px + env(safe-area-inset-bottom,0px)); font-size:12px; color:#555; opacity:.8}
.site-foot .container{display:flex; justify-content:flex-start; align-items:center; text-align:left}

/* ===== Mobile rules: hamburger on right, hide extras in header, right-align menu ===== */
@media (orientation:portrait), (max-width:820px){
    .nav .menu-btn{display:inline-flex !important; margin:0 !important; color:#111 !important; -webkit-tap-highlight-color:transparent; -webkit-touch-callout:none}
    .nav .nav-actions{justify-content:flex-end !important; justify-self:end !important}
    .nav .nav-links,.nav .lang-toggle,.nav .nav-social{display:none !important}

    .menu-bar{grid-template-columns:1fr auto !important; padding-right:var(--pad) !important}
    .menu-close{justify-self:end !important; padding:12px 0 12px 6px !important; margin-right:0 !important}

    .menu-links{
        width:100% !important; display:flex !important; flex-direction:column !important;
        align-items:flex-end !important; text-align:right !important; gap:12px !important; padding-right:var(--pad) !important;
    }
    .menu-links a{text-align:right !important}
    .menu-social{width:100% !important; justify-content:flex-end !important; align-self:start !important; padding-right:var(--pad) !important}
}

/* Expanded header in true portrait: show hamburger on right; hide extras */
@media (max-aspect-ratio:1/1){
    .nav:not(.is-compact) .menu-btn{display:inline-flex !important; margin:0 !important; color:#111 !important; -webkit-tap-highlight-color:transparent}
    .nav:not(.is-compact) .nav-actions{grid-column:3/4 !important; justify-self:end !important; justify-content:flex-end !important}
    .nav:not(.is-compact) .nav-links,.nav:not(.is-compact) .lang-toggle,.nav:not(.is-compact) .nav-social{display:none !important}
}

/* Edge nudges (logo left; X aligned) */
:root{ --edge-nudge:12px }
.nav:not(.is-compact) .brand{ margin-left: calc(-1 * var(--edge-nudge)) }
.menu-bar .brand{ margin-left: calc(-1 * var(--edge-nudge)) }
.menu-bar{ padding-right: var(--pad) }
.menu-close{
    justify-self:end !important; display:flex; align-items:center; justify-content:flex-end;
    padding:12px 0 12px 6px !important; margin-right: calc(-1 * var(--edge-nudge)) !important;
}
@media (orientation:portrait), (max-width:820px){
    .nav .nav-actions{ justify-content:flex-end !important; justify-self:end !important; margin-right: calc(-1 * var(--edge-nudge)) }
}